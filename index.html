<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FLY - P2P Multiplayer Flight Combat</title>
    <meta name="description" content="Free multiplayer flight combat game. No downloads, play instantly in your browser.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #00ffaa;
            --secondary: #00d4ff;
            --danger: #ff4757;
            --warning: #ffa502;
            --dark: #0a0a0f;
            --darker: #050508;
            --glass: rgba(10, 10, 15, 0.85);
            --glass-border: rgba(0, 255, 170, 0.2);
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: var(--darker);
            color: white;
            overflow: hidden;
            height: 100vh;
            cursor: default;
        }

        /* ==================== LOBBY ==================== */
        #lobby {
            position: fixed;
            inset: 0;
            background: linear-gradient(135deg, #0a0a1a 0%, #1a0a2e 50%, #0a1a2e 100%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
        }

        #lobby.hidden { display: none; }

        /* Animated Background */
        .lobby-bg {
            position: absolute;
            inset: 0;
            overflow: hidden;
            z-index: 0;
        }

        .lobby-bg::before {
            content: '';
            position: absolute;
            width: 200%;
            height: 200%;
            background:
                radial-gradient(circle at 20% 80%, rgba(0, 255, 170, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(0, 212, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(255, 71, 87, 0.05) 0%, transparent 50%);
            animation: bgPulse 10s ease-in-out infinite;
        }

        @keyframes bgPulse {
            0%, 100% { transform: translate(-25%, -25%) scale(1); }
            50% { transform: translate(-25%, -25%) scale(1.1); }
        }

        /* Header */
        .lobby-header {
            position: relative;
            z-index: 1;
            text-align: center;
            padding: 30px 20px;
        }

        .logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 5em;
            font-weight: 900;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 50%, var(--primary) 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: logoShine 3s ease-in-out infinite;
            text-shadow: 0 0 60px rgba(0, 255, 170, 0.5);
            letter-spacing: 0.2em;
        }

        @keyframes logoShine {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .tagline {
            font-size: 1.1em;
            color: rgba(255,255,255,0.6);
            margin-top: 5px;
            letter-spacing: 0.3em;
            text-transform: uppercase;
        }

        /* Ad Banners */
        .ad-banner {
            background: linear-gradient(90deg, #1a1a2e, #2a1a3e, #1a1a2e);
            border: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .ad-banner.top {
            height: 90px;
            margin: 0 20px;
            border-radius: 8px;
        }

        .ad-banner.bottom {
            height: 90px;
            margin: 0 20px 20px;
            border-radius: 8px;
        }

        .ad-content {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 15px 30px;
        }

        .ad-icon {
            font-size: 2.5em;
        }

        .ad-text h3 {
            font-family: 'Orbitron', sans-serif;
            color: var(--primary);
            font-size: 1.2em;
        }

        .ad-text p {
            color: rgba(255,255,255,0.7);
            font-size: 0.9em;
        }

        .ad-cta {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: var(--dark);
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 700;
            text-decoration: none;
            font-size: 0.85em;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .ad-cta:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(0, 255, 170, 0.5);
        }

        .ad-badge {
            position: absolute;
            top: 5px;
            right: 10px;
            font-size: 0.65em;
            color: rgba(255,255,255,0.3);
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        /* Main Content */
        .lobby-content {
            flex: 1;
            display: flex;
            padding: 20px;
            gap: 20px;
            position: relative;
            z-index: 1;
            overflow: hidden;
        }

        /* Glass Panel */
        .glass-panel {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            backdrop-filter: blur(10px);
        }

        /* Left Panel */
        .player-setup {
            width: 320px;
            padding: 25px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .panel-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1em;
            color: var(--primary);
            text-transform: uppercase;
            letter-spacing: 0.15em;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .panel-title::before {
            content: '';
            width: 4px;
            height: 20px;
            background: var(--primary);
            border-radius: 2px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .input-group label {
            font-size: 0.85em;
            color: rgba(255,255,255,0.6);
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .input-group input, .input-group select {
            background: rgba(0,0,0,0.4);
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            padding: 12px 15px;
            color: white;
            font-family: 'Rajdhani', sans-serif;
            font-size: 1em;
            transition: all 0.3s;
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(0, 255, 170, 0.2);
        }

        /* Aircraft Cards */
        .aircraft-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .aircraft-card {
            background: rgba(0,0,0,0.3);
            border: 2px solid transparent;
            border-radius: 12px;
            padding: 15px 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .aircraft-card:hover {
            background: rgba(0, 255, 170, 0.1);
            border-color: var(--glass-border);
        }

        .aircraft-card.selected {
            border-color: var(--primary);
            background: rgba(0, 255, 170, 0.15);
            box-shadow: 0 0 20px rgba(0, 255, 170, 0.3);
        }

        .aircraft-icon {
            font-size: 2em;
            margin-bottom: 5px;
        }

        .aircraft-name {
            font-size: 0.75em;
            font-weight: 700;
            text-transform: uppercase;
        }

        .aircraft-card.selected .aircraft-name {
            color: var(--primary);
        }

        /* Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .stat-item {
            background: rgba(0,0,0,0.3);
            border-radius: 8px;
            padding: 10px;
        }

        .stat-label {
            font-size: 0.7em;
            color: rgba(255,255,255,0.5);
            text-transform: uppercase;
        }

        .stat-value {
            font-family: 'Orbitron', sans-serif;
            font-size: 1em;
            color: var(--primary);
        }

        .stat-bar {
            height: 4px;
            background: rgba(255,255,255,0.1);
            border-radius: 2px;
            margin-top: 5px;
            overflow: hidden;
        }

        .stat-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 2px;
            transition: width 0.3s;
        }

        /* Buttons */
        .btn {
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: var(--dark);
            font-size: 1.1em;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 255, 170, 0.4);
        }

        .btn-primary::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transform: translateX(-100%);
            transition: transform 0.5s;
        }

        .btn-primary:hover::after {
            transform: translateX(100%);
        }

        .btn-secondary {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid var(--glass-border);
        }

        .btn-secondary:hover {
            background: rgba(255,255,255,0.2);
            border-color: var(--primary);
        }

        /* Center Panel - Rooms */
        .room-list-panel {
            flex: 1;
            padding: 25px;
            display: flex;
            flex-direction: column;
        }

        .room-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .room-actions {
            display: flex;
            gap: 10px;
        }

        .room-list {
            flex: 1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .room-item {
            background: rgba(0,0,0,0.3);
            border: 1px solid transparent;
            border-radius: 12px;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .room-item:hover {
            background: rgba(0, 255, 170, 0.1);
            border-color: var(--glass-border);
            transform: translateX(5px);
        }

        .room-info h3 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1em;
            margin-bottom: 5px;
        }

        .room-meta {
            display: flex;
            gap: 15px;
            font-size: 0.85em;
            color: rgba(255,255,255,0.6);
        }

        .room-meta span {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .player-count {
            background: rgba(0, 255, 170, 0.2);
            color: var(--primary);
            padding: 8px 15px;
            border-radius: 20px;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
        }

        .no-rooms {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: rgba(255,255,255,0.4);
        }

        .no-rooms-icon {
            font-size: 4em;
            margin-bottom: 20px;
            opacity: 0.3;
        }

        /* Right Panel - Ad */
        .ad-sidebar {
            width: 200px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .ad-sidebar .ad-unit {
            flex: 1;
            background: linear-gradient(180deg, #1a1a2e, #2a1a3e);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .ad-unit-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .ad-unit h4 {
            font-family: 'Orbitron', sans-serif;
            color: var(--secondary);
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .ad-unit p {
            font-size: 0.8em;
            color: rgba(255,255,255,0.6);
            line-height: 1.4;
        }

        /* Modal */
        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 30px;
            width: 420px;
            transform: scale(0.9);
            transition: transform 0.3s;
        }

        .modal.active .modal-content {
            transform: scale(1);
        }

        .modal-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5em;
            color: var(--primary);
            text-align: center;
            margin-bottom: 25px;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        .modal-buttons .btn {
            flex: 1;
        }

        /* ==================== GAME ==================== */
        #game-container {
            position: fixed;
            inset: 0;
            display: none;
            background: #000;
        }

        #game-container.active { display: block; }

        #game-canvas {
            width: 100%;
            height: 100%;
        }

        /* HUD */
        .hud {
            position: fixed;
            pointer-events: none;
            z-index: 100;
        }

        .hud > * { pointer-events: auto; }

        /* Top Ad */
        .hud-top-ad {
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            padding: 10px;
        }

        .game-ad-banner {
            background: linear-gradient(90deg, rgba(26,26,46,0.95), rgba(42,26,62,0.95));
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            padding: 10px 30px;
            display: flex;
            align-items: center;
            gap: 20px;
            backdrop-filter: blur(10px);
        }

        .game-ad-banner .ad-icon { font-size: 1.5em; }
        .game-ad-banner .ad-text h3 { font-size: 0.9em; }
        .game-ad-banner .ad-text p { font-size: 0.75em; }
        .game-ad-banner .ad-cta { padding: 6px 15px; font-size: 0.75em; }

        /* Left HUD */
        .hud-left {
            top: 100px;
            left: 15px;
        }

        .player-hud {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 15px;
            min-width: 200px;
            backdrop-filter: blur(10px);
        }

        .health-container {
            margin-bottom: 15px;
        }

        .health-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.8em;
            margin-bottom: 5px;
        }

        .health-bar {
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            overflow: hidden;
        }

        .health-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--danger), var(--warning), var(--primary));
            border-radius: 4px;
            transition: width 0.3s;
        }

        .flight-data {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .data-item {
            background: rgba(0,0,0,0.3);
            border-radius: 8px;
            padding: 10px;
        }

        .data-label {
            font-size: 0.7em;
            color: rgba(255,255,255,0.5);
            text-transform: uppercase;
        }

        .data-value {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2em;
            color: var(--primary);
        }

        /* Right HUD */
        .hud-right {
            top: 100px;
            right: 15px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: flex-end;
        }

        .minimap-container {
            width: 160px;
            height: 160px;
            background: var(--glass);
            border: 2px solid var(--primary);
            border-radius: 50%;
            padding: 5px;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 30px rgba(0, 255, 170, 0.3);
        }

        #minimap-canvas {
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }

        .leaderboard {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 15px;
            min-width: 180px;
            backdrop-filter: blur(10px);
        }

        .leaderboard-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.8em;
            color: var(--secondary);
            text-transform: uppercase;
            margin-bottom: 10px;
            letter-spacing: 0.1em;
        }

        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            font-size: 0.85em;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .leaderboard-item:last-child { border-bottom: none; }

        .leaderboard-item.self {
            color: var(--primary);
            font-weight: 700;
        }

        .leaderboard-rank {
            color: rgba(255,255,255,0.4);
            margin-right: 10px;
        }

        /* Bottom HUD */
        .hud-bottom {
            bottom: 15px;
            left: 15px;
            right: 15px;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }

        .controls-info {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            padding: 10px 15px;
            font-size: 0.8em;
            backdrop-filter: blur(10px);
        }

        .controls-info kbd {
            background: rgba(0, 255, 170, 0.2);
            color: var(--primary);
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
        }

        .game-timer {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            padding: 10px 25px;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5em;
            color: var(--primary);
            backdrop-filter: blur(10px);
        }

        .exit-btn {
            background: rgba(255, 71, 87, 0.8);
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            color: white;
            font-family: 'Orbitron', sans-serif;
            cursor: pointer;
            transition: all 0.3s;
        }

        .exit-btn:hover {
            background: var(--danger);
            transform: scale(1.05);
        }

        /* Chat */
        .chat-container {
            position: fixed;
            bottom: 70px;
            left: 15px;
            width: 320px;
            z-index: 100;
        }

        .chat-messages {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 8px 8px 0 0;
            padding: 10px;
            max-height: 150px;
            overflow-y: auto;
            backdrop-filter: blur(10px);
        }

        .chat-message {
            margin: 5px 0;
            font-size: 0.85em;
            animation: chatFade 0.3s ease-out;
        }

        @keyframes chatFade {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .chat-message .sender {
            color: var(--secondary);
            font-weight: 700;
        }

        .chat-message.system {
            color: var(--warning);
            font-style: italic;
        }

        .chat-input-row {
            display: flex;
        }

        .chat-input {
            flex: 1;
            background: rgba(0,0,0,0.8);
            border: 1px solid var(--glass-border);
            border-right: none;
            border-radius: 0 0 0 8px;
            padding: 10px;
            color: white;
            font-family: 'Rajdhani', sans-serif;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .chat-send {
            background: var(--primary);
            border: none;
            border-radius: 0 0 8px 0;
            padding: 10px 15px;
            color: var(--dark);
            font-weight: 700;
            cursor: pointer;
        }

        /* Mobile Controls */
        .mobile-controls {
            display: none;
            position: fixed;
            bottom: 30px;
            left: 0;
            right: 0;
            padding: 0 20px;
            justify-content: space-between;
            align-items: flex-end;
            z-index: 100;
        }

        .joystick {
            width: 120px;
            height: 120px;
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            position: relative;
        }

        .joystick-knob {
            width: 50px;
            height: 50px;
            background: rgba(0, 255, 170, 0.6);
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .mobile-buttons {
            display: flex;
            gap: 15px;
        }

        .mobile-btn {
            width: 70px;
            height: 70px;
            background: rgba(255,255,255,0.1);
            border: 2px solid var(--primary);
            border-radius: 50%;
            color: var(--primary);
            font-family: 'Orbitron', sans-serif;
            font-size: 0.7em;
            font-weight: 700;
        }

        .mobile-btn:active {
            background: rgba(0, 255, 170, 0.3);
        }

        @media (max-width: 900px) {
            .lobby-content { flex-direction: column; }
            .player-setup, .ad-sidebar { width: 100%; }
            .ad-sidebar { flex-direction: row; height: 100px; }
            .ad-sidebar .ad-unit { flex: 1; }
            .mobile-controls { display: flex; }
            .controls-info { display: none; }
            .chat-container { width: 250px; }
        }

        /* Connection Status */
        .connection-status {
            position: fixed;
            top: 15px;
            right: 15px;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.8em;
            font-family: 'Orbitron', sans-serif;
            z-index: 3000;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .connection-status::before {
            content: '';
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .connection-status.connected {
            background: rgba(0, 255, 170, 0.2);
            color: var(--primary);
        }
        .connection-status.connected::before { background: var(--primary); }

        .connection-status.connecting {
            background: rgba(255, 165, 2, 0.2);
            color: var(--warning);
        }
        .connection-status.connecting::before { background: var(--warning); animation: pulse 1s infinite; }

        .connection-status.disconnected {
            background: rgba(255, 71, 87, 0.2);
            color: var(--danger);
        }
        .connection-status.disconnected::before { background: var(--danger); }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        /* Loading */
        .loading-overlay {
            position: fixed;
            inset: 0;
            background: var(--darker);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 5000;
        }

        .loading-overlay.hidden { display: none; }

        .loader {
            width: 80px;
            height: 80px;
            position: relative;
        }

        .loader::before, .loader::after {
            content: '';
            position: absolute;
            inset: 0;
            border: 3px solid transparent;
            border-radius: 50%;
        }

        .loader::before {
            border-top-color: var(--primary);
            animation: spin 1s linear infinite;
        }

        .loader::after {
            border-bottom-color: var(--secondary);
            animation: spin 1s linear infinite reverse;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            margin-top: 30px;
            font-family: 'Orbitron', sans-serif;
            color: var(--primary);
            letter-spacing: 0.2em;
        }

        /* Kill Feed */
        .kill-feed {
            position: fixed;
            top: 100px;
            right: 200px;
            display: flex;
            flex-direction: column;
            gap: 5px;
            z-index: 100;
        }

        .kill-item {
            background: rgba(0,0,0,0.7);
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 0.85em;
            animation: killFade 3s forwards;
        }

        @keyframes killFade {
            0% { opacity: 0; transform: translateX(20px); }
            10% { opacity: 1; transform: translateX(0); }
            80% { opacity: 1; }
            100% { opacity: 0; }
        }

        .kill-item .killer { color: var(--danger); }
        .kill-item .victim { color: var(--secondary); }

        /* Crosshair */
        .crosshair {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 100;
        }

        .crosshair::before, .crosshair::after {
            content: '';
            position: absolute;
            background: rgba(255,255,255,0.8);
        }

        .crosshair::before {
            width: 20px;
            height: 2px;
            left: -10px;
            top: -1px;
        }

        .crosshair::after {
            width: 2px;
            height: 20px;
            left: -1px;
            top: -10px;
        }

        /* Speed Lines Effect */
        .speed-lines {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 50;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .speed-lines.active {
            opacity: 1;
            background: radial-gradient(ellipse at center, transparent 30%, rgba(255,255,255,0.05) 100%);
        }
    </style>
</head>
<body>
    <!-- Loading -->
    <div id="loading" class="loading-overlay">
        <div class="loader"></div>
        <div class="loading-text">INITIALIZING</div>
    </div>

    <!-- Connection Status -->
    <div id="connection-status" class="connection-status connecting">Connecting</div>

    <!-- ==================== LOBBY ==================== -->
    <div id="lobby">
        <div class="lobby-bg"></div>

        <div class="lobby-header">
            <div class="logo">FLY</div>
            <div class="tagline">P2P Multiplayer Flight Combat</div>
        </div>

        <!-- Top Ad Banner -->
        <div class="ad-banner top">
            <div class="ad-content">
                <div class="ad-icon">üöÄ</div>
                <div class="ad-text">
                    <h3>Promote Your Startup</h3>
                    <p>Reach 100,000+ gamers worldwide</p>
                </div>
                <a href="#" class="ad-cta">Advertise Here</a>
            </div>
            <span class="ad-badge">Sponsored</span>
        </div>

        <div class="lobby-content">
            <!-- Left: Player Setup -->
            <div class="player-setup glass-panel">
                <div class="panel-title">Pilot Setup</div>

                <div class="input-group">
                    <label>Callsign</label>
                    <input type="text" id="player-name" placeholder="Enter callsign..." maxlength="12">
                </div>

                <div class="input-group">
                    <label>Select Aircraft</label>
                    <div class="aircraft-grid">
                        <div class="aircraft-card selected" data-aircraft="cessna">
                            <div class="aircraft-icon">‚úàÔ∏è</div>
                            <div class="aircraft-name">Cessna</div>
                        </div>
                        <div class="aircraft-card" data-aircraft="jet">
                            <div class="aircraft-icon">üõ©Ô∏è</div>
                            <div class="aircraft-name">F-16</div>
                        </div>
                        <div class="aircraft-card" data-aircraft="cyberpink">
                            <div class="aircraft-icon">üõ∏</div>
                            <div class="aircraft-name">Cyber</div>
                        </div>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label">Max Speed</div>
                        <div class="stat-value" id="stat-speed">140 kts</div>
                        <div class="stat-bar"><div class="stat-fill" id="speed-bar" style="width: 20%"></div></div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Max Alt</div>
                        <div class="stat-value" id="stat-alt">14,000 ft</div>
                        <div class="stat-bar"><div class="stat-fill" id="alt-bar" style="width: 30%"></div></div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Agility</div>
                        <div class="stat-value" id="stat-agility">Medium</div>
                        <div class="stat-bar"><div class="stat-fill" id="agility-bar" style="width: 50%"></div></div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Firepower</div>
                        <div class="stat-value" id="stat-weapons">None</div>
                        <div class="stat-bar"><div class="stat-fill" id="weapons-bar" style="width: 0%"></div></div>
                    </div>
                </div>

                <button class="btn btn-primary" id="quick-play-btn">
                    ‚ñ∂ QUICK PLAY
                </button>
            </div>

            <!-- Center: Room List -->
            <div class="room-list-panel glass-panel">
                <div class="room-header">
                    <div class="panel-title">Game Rooms</div>
                    <div class="room-actions">
                        <button class="btn btn-secondary" id="refresh-btn">‚Üª Refresh</button>
                        <button class="btn btn-primary" id="create-room-btn">+ Create</button>
                    </div>
                </div>

                <div class="room-list" id="room-list">
                    <div class="no-rooms">
                        <div class="no-rooms-icon">üì°</div>
                        <p>No active rooms found</p>
                        <p style="font-size: 0.9em; margin-top: 10px;">Create a room or Quick Play!</p>
                    </div>
                </div>
            </div>

            <!-- Right: Ad Sidebar -->
            <div class="ad-sidebar">
                <div class="ad-unit">
                    <span class="ad-badge">AD</span>
                    <div class="ad-unit-icon">üéÆ</div>
                    <h4>Gaming Gear</h4>
                    <p>Level up your setup with pro gaming equipment</p>
                </div>
                <div class="ad-unit">
                    <span class="ad-badge">AD</span>
                    <div class="ad-unit-icon">‚òÅÔ∏è</div>
                    <h4>Cloud Hosting</h4>
                    <p>Deploy your game servers globally</p>
                </div>
            </div>
        </div>

        <!-- Bottom Ad Banner -->
        <div class="ad-banner bottom">
            <div class="ad-content">
                <div class="ad-icon">‚ö°</div>
                <div class="ad-text">
                    <h3>Build with AI</h3>
                    <p>Create games like this with Claude Code</p>
                </div>
                <a href="https://claude.ai/code" class="ad-cta" target="_blank">Try Free</a>
            </div>
            <span class="ad-badge">Sponsored</span>
        </div>
    </div>

    <!-- Create Room Modal -->
    <div id="create-modal" class="modal">
        <div class="modal-content">
            <div class="modal-title">Create Room</div>
            <div class="input-group">
                <label>Room Name</label>
                <input type="text" id="room-name" placeholder="My Room" maxlength="20">
            </div>
            <div class="input-group" style="margin-top: 15px;">
                <label>Max Players</label>
                <select id="max-players">
                    <option value="4">4 Players</option>
                    <option value="8" selected>8 Players</option>
                    <option value="12">12 Players</option>
                </select>
            </div>
            <div class="input-group" style="margin-top: 15px;">
                <label>Game Mode</label>
                <select id="game-mode">
                    <option value="ffa">Free For All</option>
                    <option value="tdm">Team Deathmatch</option>
                </select>
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="cancel-create">Cancel</button>
                <button class="btn btn-primary" id="confirm-create">Create</button>
            </div>
        </div>
    </div>

    <!-- ==================== GAME ==================== -->
    <div id="game-container">
        <canvas id="game-canvas"></canvas>

        <!-- Crosshair -->
        <div class="crosshair" id="crosshair"></div>

        <!-- Speed Lines -->
        <div class="speed-lines" id="speed-lines"></div>

        <!-- Top Ad -->
        <div class="hud hud-top-ad">
            <div class="game-ad-banner">
                <div class="ad-icon">üéØ</div>
                <div class="ad-text">
                    <h3>Your Ad Here</h3>
                    <p>Reach active gamers</p>
                </div>
                <a href="#" class="ad-cta">Learn More</a>
            </div>
        </div>

        <!-- Left HUD -->
        <div class="hud hud-left">
            <div class="player-hud">
                <div class="health-container">
                    <div class="health-label">
                        <span>HULL</span>
                        <span id="health-text">100%</span>
                    </div>
                    <div class="health-bar">
                        <div class="health-fill" id="health-fill" style="width: 100%"></div>
                    </div>
                </div>
                <div class="flight-data">
                    <div class="data-item">
                        <div class="data-label">Speed</div>
                        <div class="data-value" id="speed-value">0</div>
                    </div>
                    <div class="data-item">
                        <div class="data-label">Altitude</div>
                        <div class="data-value" id="altitude-value">0</div>
                    </div>
                    <div class="data-item">
                        <div class="data-label">Kills</div>
                        <div class="data-value" id="kills-value">0</div>
                    </div>
                    <div class="data-item">
                        <div class="data-label">Deaths</div>
                        <div class="data-value" id="deaths-value">0</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right HUD -->
        <div class="hud hud-right">
            <div class="minimap-container">
                <canvas id="minimap-canvas"></canvas>
            </div>
            <div class="leaderboard">
                <div class="leaderboard-title">Leaderboard</div>
                <div id="leaderboard-list"></div>
            </div>
        </div>

        <!-- Kill Feed -->
        <div class="kill-feed" id="kill-feed"></div>

        <!-- Chat -->
        <div class="chat-container">
            <div class="chat-messages" id="chat-messages"></div>
            <div class="chat-input-row">
                <input type="text" class="chat-input" id="chat-input" placeholder="Press Enter to chat...">
                <button class="chat-send" id="chat-send">‚Üí</button>
            </div>
        </div>

        <!-- Bottom HUD -->
        <div class="hud hud-bottom">
            <div class="controls-info">
                <kbd>‚Üë‚Üì‚Üê‚Üí</kbd> Fly &nbsp;
                <kbd>W</kbd><kbd>S</kbd> Throttle &nbsp;
                <kbd>SPACE</kbd> Fire &nbsp;
                <kbd>V</kbd> Camera
            </div>
            <div class="game-timer" id="game-timer">15:00</div>
            <button class="exit-btn" id="exit-game">‚úï EXIT</button>
        </div>

        <!-- Mobile Controls -->
        <div class="mobile-controls" id="mobile-controls">
            <div class="joystick" id="joystick-left">
                <div class="joystick-knob" id="knob-left"></div>
            </div>
            <div class="mobile-buttons">
                <button class="mobile-btn" id="btn-fire">üöÄ FIRE</button>
                <button class="mobile-btn" id="btn-flare">üí• FLARE</button>
                <button class="mobile-btn" id="btn-boost">‚ö° BOOST</button>
            </div>
            <div class="joystick" id="joystick-right">
                <div class="joystick-knob" id="knob-right"></div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="js/game.js"></script>
</body>
</html>
